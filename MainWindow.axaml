<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        x:Class="avalonia_test.MainWindow"
        ExtendClientAreaToDecorationsHint="True"
        ExtendClientAreaChromeHints="NoChrome"
        ExtendClientAreaTitleBarHeightHint="-1"
        SystemDecorations="BorderOnly"
        Title="avalonia_test">
    <Window.Styles>
        <Style Selector="Button.WinBtn">
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="CornerRadius" Value="0.0, 0.0, 9.0, 9.0" />
            <Setter Property="Width"  Value="45" />
            <Setter Property="Height" Value="30" />
            <Setter Property="VerticalAlignment"   Value="Top" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="Background" Value="#C54828" />
            <!-- <Setter Property="Margin" Value="3, 0, 3, 0" /> -->

            <Setter Property="Transitions">
                <Transitions>
                    <DoubleTransition Property="Width"  Duration="0:0:0.1" />
                    <DoubleTransition Property="Height" Duration="0:0:0.1" />
                    <!-- <DoubleTransition Property="Margin.Left" Duration="0:0:0.25" /> -->
                    <BrushTransition Property="Background" Duration="0:0:0.1" />
                </Transitions>
            </Setter>

        </Style>
        <Style Selector="Button.WinBtn > Image">
            <Setter Property="VerticalAlignment" Value="Bottom" />
            <Setter Property="Width"  Value="12" />
            <Setter Property="Height" Value="12" />
        </Style>
        <Style Selector="Button.WinBtn:pointerover">
            <Setter Property="Background" Value="#FFFFFF" />
            <Setter Property="Width"  Value="50" />
            <Setter Property="Height" Value="35" />
            <!-- <Setter Property="Margin" Value="0.5, 0, 0.5, 0" /> -->
        </Style>
    </Window.Styles>

    <Grid>
        <Border x:Name="BgBorder" ZIndex="-2" Background="#000000">
            <Image
                Source="Assets/home.png" Stretch="UniformToFill"
                RenderOptions.BitmapInterpolationMode="None"
                Opacity="0.25"
            />
        </Border>
        <Border x:Name="BgBorderBar" ZIndex="-1" Background="#000000">
            <Border.Clip>
                <RectangleGeometry Rect="{Binding Bounds, ElementName=TitleBar}" />
            </Border.Clip>
            <Image
                Source="Assets/home.png" Stretch="UniformToFill"
                RenderOptions.BitmapInterpolationMode="None"
                Opacity="0.25"
            >
                <Image.Effect>
                    <BlurEffect Radius="100" />
                </Image.Effect>
            </Image>
        </Border>
        <Border x:Name="OrangeBorder" ZIndex="1" BorderBrush="#C54828" BorderThickness="3">
        </Border>

        <Grid RowDefinitions="40, *">

            <Border BorderBrush="#C54828" Background="#00000000" BorderThickness="2" Grid.Row="0" x:Name="TitleBar">
                <Grid ColumnDefinitions="18, 15, 5, 60, *, 51, 51, 51, 7.5">
                    <Image Source="Assets/icon.png" Grid.Column="1" />
                    <Image Source="Assets/logo.png" Grid.Column="3" />

                    <Button Classes="WinBtn" x:Name="MinimizeBtn" Grid.Column="5">
                        <Image Source="Assets/minimize.png"></Image>
                    </Button>
                    <Button Classes="WinBtn" x:Name="MaximizeBtn" Grid.Column="6">
                        <Image Source="Assets/maximize.png"></Image>
                    </Button>
                    <Button Classes="WinBtn" x:Name="CloseWinBtn" Grid.Column="7">
                        <Image Source="Assets/close.png"></Image>
                    </Button>
                </Grid>
            </Border>
            <Border Grid.Row="1">
            </Border>
        </Grid>
    </Grid>
    
</Window>
